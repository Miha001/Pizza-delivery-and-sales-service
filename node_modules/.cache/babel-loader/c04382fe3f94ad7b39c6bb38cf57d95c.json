{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Honor\\\\Desktop\\\\reactpizza\\\\src\\\\components\\\\OrderMap.jsx\";\nimport React, { Component } from 'react';\nimport pizza from '../img/pizza.png';\nconst divStyle = {\n  marginTop: '20px',\n  width: '100%',\n  height: '400px'\n};\nlet map, firstMarker, secondMarker;\nvar directionsDisplay;\nvar directionsService;\nvar kaluga;\nvar klg;\n\nclass OrderMap extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.renderMap = () => {\n      loadScript(\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBmB5k507NzQDwBKAgH-IFlCg3hKR9rq4E&callback=initMap\");\n      window.initMap = this.initMap;\n    };\n\n    this.initMap = () => {\n      directionsDisplay = new window.google.maps.DirectionsRenderer();\n      directionsService = new window.google.maps.DirectionsService();\n      map = new window.google.maps.Map(document.getElementById('map'), {\n        center: {\n          lat: 54.51,\n          lng: 36.25\n        },\n        zoom: 13.4\n      });\n      firstMarker = new window.google.maps.Marker({\n        position: {\n          lat: 54.513,\n          lng: 36.269\n        },\n        map: map,\n        icon: pizza\n      });\n      let InfoWindow = new window.google.maps.InfoWindow({\n        content: 'Самая вкусная пицца находится здесь!'\n      });\n      firstMarker.addListener('click', () => {\n        InfoWindow.open(map, firstMarker);\n      });\n      window.google.maps.event.addListener(map, 'click', function (event) {\n        placeMarker(event.latLng);\n        calculateAndDisplayRoute();\n      });\n      directionsDisplay.setMap(map);\n    };\n  }\n\n  componentDidMount() {\n    this.renderMap();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0443\\u043D\\u043A\\u0442 \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438 \\u0432\\u043A\\u0443\\u0441\\u043D\\u0435\\u0439\\u0448\\u0435\\u0439 \\u043F\\u0438\\u0446\\u0446\\u044B\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: divStyle,\n      id: \"map\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nfunction loadScript(url) {\n  var index = window.document.getElementsByTagName(\"script\")[0];\n  var script = window.document.createElement(\"script\");\n  script.src = url;\n  script.async = true;\n  script.defer = true;\n  index.parentNode.insertBefore(script, index);\n}\n\nfunction calculateAndDisplayRoute() {\n  var request = {\n    origin: firstMarker,\n    destination: secondMarker,\n    travelMode: 'DRIVING'\n  };\n  directionsService.route(request, function (result, status) {\n    if (status == \"OK\") {\n      directionsDisplay.setDirections(result);\n    }\n  });\n}\n\nfunction placeMarker(location) {\n  secondMarker = new window.google.maps.Marker({\n    draggable: true,\n    position: location,\n    map: map,\n    animation: window.google.maps.Animation.DROP\n  });\n  secondMarker.addListener('click', toggleBounce);\n}\n\nfunction toggleBounce() {\n  if (secondMarker.getAnimation() !== null) {\n    secondMarker.setAnimation(null);\n  } else {\n    secondMarker.setAnimation(window.google.maps.Animation.BOUNCE);\n  }\n}\n\nexport default OrderMap;","map":{"version":3,"sources":["C:/Users/Honor/Desktop/reactpizza/src/components/OrderMap.jsx"],"names":["React","Component","pizza","divStyle","marginTop","width","height","map","firstMarker","secondMarker","directionsDisplay","directionsService","kaluga","klg","OrderMap","renderMap","loadScript","window","initMap","google","maps","DirectionsRenderer","DirectionsService","Map","document","getElementById","center","lat","lng","zoom","Marker","position","icon","InfoWindow","content","addListener","open","event","placeMarker","latLng","calculateAndDisplayRoute","setMap","componentDidMount","render","url","index","getElementsByTagName","script","createElement","src","async","defer","parentNode","insertBefore","request","origin","destination","travelMode","route","result","status","setDirections","location","draggable","animation","Animation","DROP","toggleBounce","getAnimation","setAnimation","BOUNCE"],"mappings":";AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AAEA,MAAMC,QAAQ,GAAG;AACfC,EAAAA,SAAS,EAAC,MADK;AAEfC,EAAAA,KAAK,EAAE,MAFQ;AAGfC,EAAAA,MAAM,EAAC;AAHQ,CAAjB;AAMA,IAAIC,GAAJ,EAAQC,WAAR,EAAoBC,YAApB;AAEA,IAAIC,iBAAJ;AACA,IAAIC,iBAAJ;AAEA,IAAIC,MAAJ;AACA,IAAIC,GAAJ;;AAEA,MAAMC,QAAN,SAAuBb,SAAvB,CAAiC;AAAA;AAAA;;AAAA,SAM7Bc,SAN6B,GAMnB,MAAI;AACVC,MAAAA,UAAU,CAAC,sGAAD,CAAV;AAEAC,MAAAA,MAAM,CAACC,OAAP,GAAe,KAAKA,OAApB;AACH,KAV4B;;AAAA,SAY7BA,OAZ6B,GAYrB,MAAI;AACVR,MAAAA,iBAAiB,GAAG,IAAIO,MAAM,CAACE,MAAP,CAAcC,IAAd,CAAmBC,kBAAvB,EAApB;AACAV,MAAAA,iBAAiB,GAAG,IAAIM,MAAM,CAACE,MAAP,CAAcC,IAAd,CAAmBE,iBAAvB,EAApB;AAEGf,MAAAA,GAAG,GAAG,IAAIU,MAAM,CAACE,MAAP,CAAcC,IAAd,CAAmBG,GAAvB,CAA2BC,QAAQ,CAACC,cAAT,CAAwB,KAAxB,CAA3B,EACT;AACEC,QAAAA,MAAM,EAAC;AAACC,UAAAA,GAAG,EAAC,KAAL;AAAWC,UAAAA,GAAG,EAAC;AAAf,SADT;AAEFC,QAAAA,IAAI,EAAC;AAFH,OADS,CAAN;AAOFrB,MAAAA,WAAW,GAAG,IAAIS,MAAM,CAACE,MAAP,CAAcC,IAAd,CAAmBU,MAAvB,CAA8B;AAC3CC,QAAAA,QAAQ,EAAE;AAAEJ,UAAAA,GAAG,EAAE,MAAP;AAAeC,UAAAA,GAAG,EAAE;AAApB,SADiC;AAE3CrB,QAAAA,GAAG,EAAEA,GAFsC;AAG3CyB,QAAAA,IAAI,EAAC9B;AAHsC,OAA9B,CAAd;AAQD,UAAI+B,UAAU,GAAE,IAAIhB,MAAM,CAACE,MAAP,CAAcC,IAAd,CAAmBa,UAAvB,CAAkC;AAChDC,QAAAA,OAAO,EAAC;AADwC,OAAlC,CAAhB;AAGL1B,MAAAA,WAAW,CAAC2B,WAAZ,CAAwB,OAAxB,EAAgC,MAAI;AAC7BF,QAAAA,UAAU,CAACG,IAAX,CAAgB7B,GAAhB,EAAoBC,WAApB;AACD,OAFN;AAOKS,MAAAA,MAAM,CAACE,MAAP,CAAcC,IAAd,CAAmBiB,KAAnB,CAAyBF,WAAzB,CAAqC5B,GAArC,EAA0C,OAA1C,EAAmD,UAAS8B,KAAT,EAAgB;AACjEC,QAAAA,WAAW,CAACD,KAAK,CAACE,MAAP,CAAX;AAEAC,QAAAA,wBAAwB;AAE1B,OALA;AAMD9B,MAAAA,iBAAiB,CAAC+B,MAAlB,CAAyBlC,GAAzB;AACA,KAhD4B;AAAA;;AAG7BmC,EAAAA,iBAAiB,GAAE;AACf,SAAK3B,SAAL;AACH;;AA4CD4B,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sOADJ,eAGI;AAAK,MAAA,KAAK,EAAExC,QAAZ;AAAsB,MAAA,EAAE,EAAC,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,CADJ;AAOH;;AAzD4B;;AA4DjC,SAASa,UAAT,CAAoB4B,GAApB,EAAwB;AACpB,MAAIC,KAAK,GAAE5B,MAAM,CAACO,QAAP,CAAgBsB,oBAAhB,CAAqC,QAArC,EAA+C,CAA/C,CAAX;AACA,MAAIC,MAAM,GAAG9B,MAAM,CAACO,QAAP,CAAgBwB,aAAhB,CAA8B,QAA9B,CAAb;AACAD,EAAAA,MAAM,CAACE,GAAP,GAAWL,GAAX;AACAG,EAAAA,MAAM,CAACG,KAAP,GAAa,IAAb;AACAH,EAAAA,MAAM,CAACI,KAAP,GAAa,IAAb;AACAN,EAAAA,KAAK,CAACO,UAAN,CAAiBC,YAAjB,CAA8BN,MAA9B,EAAqCF,KAArC;AACH;;AACD,SAASL,wBAAT,GAAmC;AAEjC,MAAIc,OAAO,GAAE;AACXC,IAAAA,MAAM,EAAE/C,WADG;AAEXgD,IAAAA,WAAW,EAAE/C,YAFF;AAGXgD,IAAAA,UAAU,EAAC;AAHA,GAAb;AAMA9C,EAAAA,iBAAiB,CAAC+C,KAAlB,CAAwBJ,OAAxB,EAAgC,UAASK,MAAT,EAAgBC,MAAhB,EAAuB;AACrD,QAAGA,MAAM,IAAE,IAAX,EAAgB;AACdlD,MAAAA,iBAAiB,CAACmD,aAAlB,CAAgCF,MAAhC;AACD;AACF,GAJD;AAKD;;AAED,SAASrB,WAAT,CAAqBwB,QAArB,EAA+B;AAC7BrD,EAAAA,YAAY,GAAG,IAAIQ,MAAM,CAACE,MAAP,CAAcC,IAAd,CAAmBU,MAAvB,CAA8B;AAC3CiC,IAAAA,SAAS,EAAC,IADiC;AAE3ChC,IAAAA,QAAQ,EAAE+B,QAFiC;AAG3CvD,IAAAA,GAAG,EAAEA,GAHsC;AAI3CyD,IAAAA,SAAS,EAAE/C,MAAM,CAACE,MAAP,CAAcC,IAAd,CAAmB6C,SAAnB,CAA6BC;AAJG,GAA9B,CAAf;AAOFzD,EAAAA,YAAY,CAAC0B,WAAb,CAAyB,OAAzB,EAAiCgC,YAAjC;AACC;;AACD,SAASA,YAAT,GAAuB;AAErB,MAAG1D,YAAY,CAAC2D,YAAb,OAA8B,IAAjC,EAAsC;AAEtC3D,IAAAA,YAAY,CAAC4D,YAAb,CAA0B,IAA1B;AAEC,GAJD,MAIK;AAEL5D,IAAAA,YAAY,CAAC4D,YAAb,CAA0BpD,MAAM,CAACE,MAAP,CAAcC,IAAd,CAAmB6C,SAAnB,CAA6BK,MAAvD;AAEC;AAEA;;AAEH,eAAexD,QAAf","sourcesContent":["\r\nimport React, { Component } from 'react';\r\nimport pizza from '../img/pizza.png';\r\n\r\nconst divStyle = {\r\n  marginTop:'20px',\r\n  width: '100%',\r\n  height:'400px'\r\n};\r\n\r\nlet map,firstMarker,secondMarker;\r\n\r\nvar directionsDisplay ;\r\nvar directionsService ;\r\n\r\nvar kaluga;\r\nvar klg;\r\n\r\nclass OrderMap extends Component {\r\n  \r\n    \r\n    componentDidMount(){\r\n        this.renderMap()\r\n    }\r\n    renderMap=()=>{\r\n        loadScript(\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBmB5k507NzQDwBKAgH-IFlCg3hKR9rq4E&callback=initMap\")\r\n\r\n        window.initMap=this.initMap\r\n    }\r\n\r\n    initMap=()=>{\r\n      directionsDisplay = new window.google.maps.DirectionsRenderer();\r\n      directionsService = new window.google.maps.DirectionsService();\r\n\r\n         map = new window.google.maps.Map(document.getElementById('map'),\r\n      {\r\n        center:{lat:54.51,lng:36.25},\r\n    zoom:13.4}\r\n      )\r\n\r\n      \r\n       firstMarker = new window.google.maps.Marker({\r\n        position: { lat: 54.513, lng: 36.269 },\r\n        map: map,\r\n        icon:pizza,\r\n\r\n      });\r\n\r\n      \r\n      let InfoWindow= new window.google.maps.InfoWindow({\r\n        content:'Самая вкусная пицца находится здесь!'\r\n      })\r\n firstMarker.addListener('click',()=>{\r\n        InfoWindow.open(map,firstMarker);\r\n      })\r\n        \r\n     \r\n      \r\n\r\n      window.google.maps.event.addListener(map, 'click', function(event) {\r\n        placeMarker(event.latLng);\r\n\r\n        calculateAndDisplayRoute();\r\n\r\n     });\r\n     directionsDisplay.setMap(map);\r\n    }\r\n    render() {\r\n        return (\r\n            <div>  \r\n                <p>Выберите пункт доставки вкуснейшей пиццы</p>\r\n              \r\n                <div style={divStyle} id=\"map\"></div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction loadScript(url){\r\n    var index =window.document.getElementsByTagName(\"script\")[0]\r\n    var script = window.document.createElement(\"script\")\r\n    script.src=url\r\n    script.async=true\r\n    script.defer=true\r\n    index.parentNode.insertBefore(script,index)\r\n}\r\nfunction calculateAndDisplayRoute(){\r\n\r\n  var request ={\r\n    origin: firstMarker,\r\n    destination: secondMarker,\r\n    travelMode:'DRIVING'\r\n  }\r\n  \r\n  directionsService.route(request,function(result,status){\r\n    if(status==\"OK\"){\r\n      directionsDisplay.setDirections(result);\r\n    }\r\n  });\r\n}\r\n\r\nfunction placeMarker(location) {\r\n  secondMarker = new window.google.maps.Marker({\r\n    draggable:true,\r\n    position: location, \r\n    map: map,\r\n    animation: window.google.maps.Animation.DROP,\r\n})\r\n\r\nsecondMarker.addListener('click',toggleBounce); \r\n}\r\nfunction toggleBounce(){\r\n \r\n  if(secondMarker.getAnimation()!==null){ \r\n   \r\n  secondMarker.setAnimation(null);\r\n   \r\n  }else{\r\n   \r\n  secondMarker.setAnimation(window.google.maps.Animation.BOUNCE);\r\n   \r\n  }\r\n   \r\n  }\r\n\r\nexport default OrderMap;"]},"metadata":{},"sourceType":"module"}