{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Honor\\\\Desktop\\\\reactpizza\\\\src\\\\components\\\\OrderMap.jsx\";\nimport React, { Component } from 'react';\nimport { YMaps, Map, Placemark } from \"react-yandex-maps\";\n\nclass OrderMap extends Component {\n  constructor(props) {\n    super(props);\n    this.initMap = this.initMap.bind(this);\n    this.coordinates = [[54.5001087, 36.2598115], [54.5101087, 36.2598115], [54.5001087, 36.2698115]];\n    this.ymap = null;\n    this.mapRef = null;\n  }\n\n  initMap(ymap, mapRef) {\n    if (ymap) this.ymap = ymap;\n    if (mapRef) this.mapRef = mapRef;\n    if (!this.ymap || !this.mapRef) return;\n    let multiRoute = new this.ymap.multiRouter.MultiRoute({\n      referencePoints: this.coordinates\n    }); // Подписка на событие готовности маршрута.\n\n    multiRoute.model.events.add('requestsuccess', function () {\n      // Получение ссылки на активный маршрут.\n      var activeRoute = multiRoute.getActiveRoute(); // Получение коллекции путей активного маршрута.\n\n      var activeRoutePaths = activeRoute.getPaths(); // Проход по коллекции путей.\n\n      activeRoutePaths.each(function (path) {\n        console.log(\"Длина пути: \" + path.properties.get(\"distance\").text);\n        console.log(\"Время прохождения пути: \" + path.properties.get(\"duration\").text);\n      });\n    });\n    multiRoute.editor.stop();\n    this.mapRef.geoObjects.add(multiRoute);\n  }\n\n  render() {\n    const mapData = {\n      center: [54.5051087, 36.2598115],\n      zoom: 13\n    };\n    const query = {\n      lang: 'ru_RU',\n      load: 'package.full'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(YMaps, {\n      query: query,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Map, {\n      defaultState: mapData,\n      instanceRef: ref => this.initMap(null, ref),\n      onLoad: ymap => this.initMap(ymap, null),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }, this.coordinates.map((coordinate, idx) => /*#__PURE__*/React.createElement(Placemark, {\n      geometry: coordinate,\n      key: idx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 68\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => this.initMap(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, \"TEST\"));\n  }\n\n}\n\nexport default OrderMap;","map":{"version":3,"sources":["C:/Users/Honor/Desktop/reactpizza/src/components/OrderMap.jsx"],"names":["React","Component","YMaps","Map","Placemark","OrderMap","constructor","props","initMap","bind","coordinates","ymap","mapRef","multiRoute","multiRouter","MultiRoute","referencePoints","model","events","add","activeRoute","getActiveRoute","activeRoutePaths","getPaths","each","path","console","log","properties","get","text","editor","stop","geoObjects","render","mapData","center","zoom","query","lang","load","ref","map","coordinate","idx"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { YMaps, Map, Placemark } from \"react-yandex-maps\";\r\n\r\n\r\nclass OrderMap extends Component {\r\n   \r\n    constructor(props) {\r\n        super(props);\r\n        this.initMap = this.initMap.bind(this);\r\n        this.coordinates = [\r\n            [54.5001087, 36.2598115],\r\n            [54.5101087, 36.2598115],\r\n            [54.5001087, 36.2698115],\r\n        ];\r\n        this.ymap = null;\r\n        this.mapRef = null;\r\n    }\r\n\r\n    initMap(ymap, mapRef) {\r\n        if (ymap) this.ymap = ymap;\r\n        if (mapRef) this.mapRef = mapRef;\r\n        if (!this.ymap || !this.mapRef) return;\r\n\r\n        let multiRoute = new this.ymap.multiRouter.MultiRoute({\r\n            referencePoints: this.coordinates\r\n        });\r\n        // Подписка на событие готовности маршрута.\r\n        multiRoute.model.events.add('requestsuccess', function() {\r\n            // Получение ссылки на активный маршрут.\r\n            var activeRoute = multiRoute.getActiveRoute();\r\n            // Получение коллекции путей активного маршрута.\r\n            var activeRoutePaths = activeRoute.getPaths();\r\n            // Проход по коллекции путей.\r\n            activeRoutePaths.each(function(path) {\r\n                console.log(\"Длина пути: \" + path.properties.get(\"distance\").text);\r\n                console.log(\"Время прохождения пути: \" + path.properties.get(\"duration\").text);\r\n            });\r\n        });\r\n        multiRoute.editor.stop();\r\n        this.mapRef.geoObjects.add(multiRoute);\r\n    }\r\n\r\n    render() {\r\n        const mapData = {\r\n            center: [54.5051087, 36.2598115],\r\n            zoom: 13,\r\n        };\r\n\r\n        const query = {\r\n            lang: 'ru_RU',\r\n            load: 'package.full',\r\n        };\r\n\r\n        return (\r\n            <div>\r\n                <YMaps query={query}>\r\n                    <Map\r\n                        defaultState={mapData}\r\n                        instanceRef={(ref) => this.initMap(null, ref)}\r\n                        onLoad={(ymap) => this.initMap(ymap, null)}>\r\n                        {/* <RouteEditor/> */}\r\n                        {this.coordinates.map((coordinate, idx) => <Placemark geometry={coordinate} key={idx}/>)}\r\n                    </Map>\r\n                </YMaps>\r\n                <div onClick={() => this.initMap()}>TEST</div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default OrderMap;"]},"metadata":{},"sourceType":"module"}